# DataBase_Yellow
*Хранилище данных с возможностью добавления, удаления и поиска удовлетворяющих заданному условию*
### Программа должна уметь обрабатывать набор команд:
- Add date event — добавить в базу данных пару (date, event);
- Print — вывести всё содержимое базы данных;
- Find condition — вывести все записи, содержащиеся в базе данных, которые удовлетворяют условию condition;
- Del condition — удалить из базы все записи, которые удовлетворяют условию condition;
- Last date — вывести запись с последним событием, случившимся не позже данной даты.

### Условия в командах Find и Del накладывают определённые ограничения на даты и события, например:
- Find date < 2017-11-06 — найти все события, которые случились раньше 6 ноября 2017 года;
- Del event != "holiday" — удалить из базы все события, кроме «holiday»;
- Find date >= 2017-01-01 AND date < 2017-07-01 AND event == "sport event" — найти всё события «sport event», случившиеся в первой половине 2017 года;
- Del date < 2017-01-01 AND (event == "holiday" OR event == "sport event") — удалить из базы все события «holiday» и «sport event», случившиеся до 2017 года.
*В командах обоих типов условия могут быть пустыми: под такое условие попадают все события.*
## Структура программы
condition_parser.h/cpp - построение абстрактного синтаксического дерева для арифметических выражений
token.h/cpp — содержат готовый токенизатор, который используется в функции ParseCondition;
main.cpp — содержит готовую функцию main.

Нужно разработать недостающие классы и функции:
- класс Database, который представляет собой базу данных;
- классы Node, EmptyNode, DateComparisonNode, EventComparisonNode и LogicalOperationNode;
- класс Date, а также функцию ParseDate и оператор вывода в поток для класса Date.

### Формат ввода и вывода
*В стандартном вводе содержатся команды для работы с базой данных, по одной команде в строке. Программа должна считать их и вывести результаты обработки в стандартный вывод.* 
#### Команда Add
Add date event - программа добавит пару (date, event) в базу данных и затем покажет её при поиске (команда Find) или печати (команда Print). Одинаковые события, произошедшие в один и тот же день игнорируются. В одну и ту же дату может произойти много разных событий, БД должна суметь их все сохранить.
*Гарантируется, что поле date в команде Add имеет формат «Год-Месяц-День», где Год — это целое число от 0 до 9999, Месяц — это номер месяца от 1 до 12 включительно, День — это номер дня от 1 до 31 включительно. После даты обязательно следует пробел, отделяющий её от события. Примеры корректных дат: 2017-11-07, 0-2-31.
Вся остальная часть строки в команде Add задаёт событие. Оно может содержать пробелы, поэтому для его считывания удобно воспользоваться функцией getline. При этом гарантируется, что название события не может содержать символ кавычки ("). Таким образом, этот символ может встретиться лишь в условии в командах Find и Del, являясь ограничителем названия события.*
##### Пример
Для команды Add 2017-11-07 big sport event программа должна добавить в базу данных пару (2017-11-07, big sport event).
#### Команда Del
Del condition - программа должна удалить из базы данных все события, удовлетворяющие условию condition, и вывести в стандартный вывод количество удалённых записей N в формате «Removed N entries». Если условие пусто, результатом выполнения команды должна стать очистка всей базы данных.
##### Пример
###### Ввод
    Add 2017-06-01 1st of June
    Add 2017-07-08 8th of July
    Add 2017-07-08 Someone's birthday
    Del date == 2017-07-08
###### Вывод
    Removed 2 entries
#### Команда Print
Print - программа должна вывести все пары (дата, событие), которые в данный момент содержатся в базе данных. Пары надо выводить по одной в строке. Они должны быть отсортированы по дате по возрастанию. События в рамках одной даты необходимо выводить в порядке добавления (за исключением уже удалённых и попыток добавления повторов).
*Даты надо выводить в формате ГГГГ-ММ-ДД, где Г, М, Д — это цифры чисел года, месяца и дня соответственно. Если какое-то число имеет меньше разрядов, чем нужно, его надо дополнить нулями, например: 0001-01-01 — первое января первого года.*
##### Пример
###### Ввод
    Add 2017-01-01 Holiday
    Add 2017-03-08 Holiday
    Add 2017-1-1 New Year
    Add 2017-1-1 New Year
    Print
###### Вывод
    2017-01-01 Holiday
    2017-01-01 New Year
    2017-03-08 Holiday

*Обратите внимание, что событие "New Year" выведено только один раз, несмотря на то, что оно добавлено дважды. Как сказано в описании команды Add, одинаковые события, произошедшие в один и тот же день, сохранять не нужно.*

#### Команда Find
Find condition - программа должна вывести все пары (дата, событие), которые в данный момент содержатся в базе данных и удовлетворяют условию condition. Формат вывода аналогичен команде Print. Поиск с пустым условием эквивалентен команде Print. В конце команда должна вывести строку Found N entries, где N— количество найденных пар.
##### Пример
###### Ввод
    Add 2017-01-01 Holiday
    Add 2017-03-08 Holiday
    Add 2017-01-01 New Year
    Find event != "working day"
    Add 2017-05-09 Holiday
###### Вывод
    2017-01-01 Holiday
    2017-01-01 New Year
    2017-03-08 Holiday
    Found 3 entries

#### Команда Last
Last date - вывести последнее из событий, случившихся к дате date. Более формально:
- среди всех имеющихся дат событий нужно найти наибольшую, не превосходящую date;
- из всех событий с такой датой нужно выбрать последнее добавленное и вывести в формате, аналогичном формату команды Print;
- если date меньше всех имеющихся дат, необходимо вывести «No entries».
##### Пример
###### Ввод
    Add 2017-01-01 New Year
    Add 2017-03-08 Holiday
    Add 2017-01-01 Holiday
    Last 2016-12-31
    Last 2017-01-01
    Last 2017-06-01
    Add 2017-05-09 Holiday
###### Вывод
    No entries
    2017-01-01 Holiday
    2017-03-08 Holiday

### Пример
###### Ввод
    Add 2017-11-21 Tuesday
    Add 2017-11-20 Monday
    Add 2017-11-21 Weekly meeting
    Print
    Find event != "Weekly meeting"
    Last 2017-11-30
    Del date > 2017-11-20
    Last 2017-11-30
    Last 2017-11-01
###### Вывод
    2017-11-20 Monday
    2017-11-21 Tuesday
    2017-11-21 Weekly meeting
    2017-11-20 Monday
    2017-11-21 Tuesday
    Found 2 entries
    2017-11-21 Weekly meeting
    Removed 2 entries
    2017-11-20 Monday
    No entries
